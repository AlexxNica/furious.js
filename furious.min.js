!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.furious=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){"use strict";function c(a){if(!(["f32","f64"].indexOf(a)>=0))throw new RangeError("Type "+a+" is not supported");this.type=a,this.size={f32:4,f64:8}[a],this.arrayType={f32:Float32Array,f64:Float64Array}[a]}c.prototype.equals=function(a){return a instanceof c&&this.arrayType===a.arrayType},b.exports=c},{}],2:[function(a,b){"use strict";function c(a){a(this)}var d=a("./NDArray"),e=a("./DataType"),f=a("./util");c.prototype.empty=function(a,b){a=f.checkShape(a),b="undefined"==typeof b?new e("f64"):f.checkDataType(b);var c=new d(a,b,this);return c._data=new b.arrayType(c.length),c},c.prototype.array=function(a,b){b="undefined"==typeof b?new e("f64"):f.checkDataType(b);var c=[];f.discoverArrayShapeRecursive(a,c,0);var d=this.empty(c,b,this);return f.copyArrayDataRecursive(d._data,a,c,0,0),d},c.prototype._invalidate=function(a){f.checkNDArray(a,"array"),a._data=null},c.prototype.get=function(){if(0===arguments.length)throw new Error("Callback argument missing");var a=arguments[arguments.length-1];if(1===arguments.length)throw new Error("At least one NDArray argument expected");for(var b=0;b<arguments.length-1;++b)f.checkNDArray(arguments[b],"argument "+b);for(var b=0;b<arguments.length-1;++b)arguments[b]._decRef();for(var c=new Array(arguments.length-1),b=0;b<c.length;++b){var d=arguments[b];if(0===d.shape.length)c[b]=d._data[0];else{var e=new Array(d.shape[0]);f.createArrayRecursive(d._data,e,d.shape,0,0),c[b]=e}}for(var b=0;b<arguments.length-1;++b)arguments[b]._tryInvalidate();a.apply(null,c)},c.prototype.reshape=function(a,b){if(f.checkShape(b),f.computeLength(b)!==a.length)throw new RangeError("The shape is not compatible with the array");var c=new d(b,a.dataType,this);return a._decRef()?(c._data=new c.dataType.arrayType(c.length),c._data.set(a._data)):(c._data=a._data,a._tryInvalidate()),c},c.prototype.repeat=function(a,b,c,d){f.checkNDArray(a,"a"),b=f.checkRepeats(b),c=f.checkAxis(c,a.shape.length);var e=a.shape,g=e.slice(0);g[c]*=b,a._decRef();try{"undefined"==typeof d?d=this.empty(g,a.dataType):(f.checkNDArray(d,"out"),f.checkShapesCompatibility(d.shape,g),f.checkDataTypesCompatibility(a.dataType,d.dataType),d._incRef());for(var h=f.computeOuterStride(e,c),i=1,j=c+1;j<e.length;j++)i*=e[j];for(var k=e[c],l=a._data,m=d._data,j=0;h>j;j++)for(var n=0;k>n;n++)for(var o=0;i>o;o++)for(var p=l[(j*k+n)*i+o],q=0;b>q;q++)m[((j*k+n)*b+q)*i+o]=p}catch(r){throw a._incRef(),r}return a._tryInvalidate(),d},c.prototype.add=function(a,b,c){var e=null,g=null;if(a instanceof d){if(e=a.shape,g=a.dataType,b instanceof d)f.checkShapesCompatibility(a.shape,b.shape),f.checkDataTypesCompatibility(a.dataType,b.dataType);else if(!f.isNumber(b))throw new TypeError("Unsupported type of b")}else{if(!f.isNumber(a))throw new TypeError("Unsupported type of a");e=b.shape,g=b.dataType,f.checkNDArray(b,"b")}a instanceof d&&a._decRef(),b instanceof d&&b._decRef();try{if("undefined"==typeof c?(c=new d(e,g,this),c._data=a instanceof d&&!a._hasRefs()?a._data:b instanceof d&&!b._hasRefs()?b._data:new g.arrayType(c.length)):(f.checkNDArray(c,"out"),f.checkShapesCompatibility(e,c.shape),f.checkDataTypesCompatibility(g,c.dataType),c._incRef()),a instanceof d)if(b instanceof d)for(var h=a._data,i=b._data,j=c._data,k=c.length,l=0;k>l;++l)j[l]=h[l]+i[l];else for(var h=a._data,j=c._data,k=c.length,l=0;k>l;++l)j[l]=h[l]+b;else for(var i=b._data,j=c._data,k=c.length,l=0;k>l;++l)j[l]=a+i[l]}catch(m){throw a instanceof d&&a._incRef(),b instanceof d&&b._incRef(),m}return a instanceof d&&a._tryInvalidate(),b instanceof d&&b._tryInvalidate(),c},c.prototype.sub=function(a,b,c){var e=null,g=null;if(a instanceof d){if(e=a.shape,g=a.dataType,b instanceof d)f.checkShapesCompatibility(a.shape,b.shape),f.checkDataTypesCompatibility(a.dataType,b.dataType);else if(!f.isNumber(b))throw new TypeError("Unsupported type of b")}else{if(!f.isNumber(a))throw new TypeError("Unsupported type of a");e=b.shape,g=b.dataType,f.checkNDArray(b,"b")}a instanceof d&&a._decRef(),b instanceof d&&b._decRef();try{if("undefined"==typeof c?(c=new d(e,g,this),c._data=a instanceof d&&!a._hasRefs()?a._data:b instanceof d&&!b._hasRefs()?b._data:new g.arrayType(c.length)):(f.checkNDArray(c,"out"),f.checkShapesCompatibility(e,c.shape),f.checkDataTypesCompatibility(g,c.dataType),c._incRef()),a instanceof d)if(b instanceof d)for(var h=a._data,i=b._data,j=c._data,k=c.length,l=0;k>l;++l)j[l]=h[l]-i[l];else for(var h=a._data,j=c._data,k=c.length,l=0;k>l;++l)j[l]=h[l]-b;else for(var i=b._data,j=c._data,k=c.length,l=0;k>l;++l)j[l]=a-i[l]}catch(m){throw a instanceof d&&a._incRef(),b instanceof d&&b._incRef(),m}return a instanceof d&&a._tryInvalidate(),b instanceof d&&b._tryInvalidate(),c},c.prototype.mul=function(a,b,c){var e=null,g=null;if(a instanceof d){if(e=a.shape,g=a.dataType,b instanceof d)f.checkShapesCompatibility(a.shape,b.shape),f.checkDataTypesCompatibility(a.dataType,b.dataType);else if(!f.isNumber(b))throw new TypeError("Unsupported type of b")}else{if(!f.isNumber(a))throw new TypeError("Unsupported type of a");e=b.shape,g=b.dataType,f.checkNDArray(b,"b")}a instanceof d&&a._decRef(),b instanceof d&&b._decRef();try{if("undefined"==typeof c?(c=new d(e,g,this),c._data=a instanceof d&&!a._hasRefs()?a._data:b instanceof d&&!b._hasRefs()?b._data:new g.arrayType(c.length)):(f.checkNDArray(c,"out"),f.checkShapesCompatibility(e,c.shape),f.checkDataTypesCompatibility(g,c.dataType),c._incRef()),a instanceof d)if(b instanceof d)for(var h=a._data,i=b._data,j=c._data,k=c.length,l=0;k>l;++l)j[l]=h[l]*i[l];else for(var h=a._data,j=c._data,k=c.length,l=0;k>l;++l)j[l]=h[l]*b;else for(var i=b._data,j=c._data,k=c.length,l=0;k>l;++l)j[l]=a*i[l]}catch(m){throw a instanceof d&&a._incRef(),b instanceof d&&b._incRef(),m}return a instanceof d&&a._tryInvalidate(),b instanceof d&&b._tryInvalidate(),c},c.prototype.div=function(a,b,c){var e=null,g=null;if(a instanceof d){if(e=a.shape,g=a.dataType,b instanceof d)f.checkShapesCompatibility(a.shape,b.shape),f.checkDataTypesCompatibility(a.dataType,b.dataType);else if(!f.isNumber(b))throw new TypeError("Unsupported type of b")}else{if(!f.isNumber(a))throw new TypeError("Unsupported type of a");e=b.shape,g=b.dataType,f.checkNDArray(b,"b")}a instanceof d&&a._decRef(),b instanceof d&&b._decRef();try{if("undefined"==typeof c?(c=new d(e,g,this),c._data=a instanceof d&&!a._hasRefs()?a._data:b instanceof d&&!b._hasRefs()?b._data:new g.arrayType(c.length)):(f.checkNDArray(c,"out"),f.checkShapesCompatibility(e,c.shape),f.checkDataTypesCompatibility(g,c.dataType),c._incRef()),a instanceof d)if(b instanceof d)for(var h=a._data,i=b._data,j=c._data,k=c.length,l=0;k>l;++l)j[l]=h[l]/i[l];else for(var h=a._data,j=c._data,k=c.length,l=0;k>l;++l)j[l]=h[l]/b;else for(var i=b._data,j=c._data,k=c.length,l=0;k>l;++l)j[l]=a/i[l]}catch(m){throw a instanceof d&&a._incRef(),b instanceof d&&b._incRef(),m}return a instanceof d&&a._tryInvalidate(),b instanceof d&&b._tryInvalidate(),c},c.prototype.min=function(a,b){if("undefined"==typeof b){for(var c=this.empty([],a.dataType),d=a._data[0],e=1;e<a.length;++e)d=Math.min(d,a._data[e]);return c._data[0]=d,c}if(f.isInt(b)){b=f.checkAxis(b,a.shape.length);for(var g=f.computeAxisReductionOutShape(a.shape,b),h=this.empty(g,a.dataType),i=f.computeOuterStride(a.shape,b),j=f.computeInnerStride(a.shape,b),k=a.shape[b],e=0;i>e;++e)for(var l=0;j>l;++l){for(var m=e*k*j+l,n=a._data[m],o=1;k>o;++o)m+=j,n=Math.min(n,a._data[m]);h._data[e*j+l]=n}return h}throw new TypeError("Unsupported axis type")},c.prototype.max=function(a,b){if("undefined"==typeof b){for(var c=this.empty([],a.dataType),d=a._data[0],e=1;e<a.length;++e)d=Math.max(d,a._data[e]);return c._data[0]=d,c}if(f.isInt(b)){b=f.checkAxis(b,a.shape.length);for(var g=f.computeAxisReductionOutShape(a.shape,b),h=this.empty(g,a.dataType),i=f.computeOuterStride(a.shape,b),j=f.computeInnerStride(a.shape,b),k=a.shape[b],e=0;i>e;++e)for(var l=0;j>l;++l){for(var m=e*k*j+l,n=a._data[m],o=1;k>o;++o)m+=j,n=Math.max(n,a._data[m]);h._data[e*j+l]=n}return h}throw new TypeError("Unsupported axis type")},c.prototype.sum=function(a,b){if("undefined"==typeof b){for(var c=this.empty([],a.dataType),d=a._data[0],e=1;e<a.length;++e)d+=a._data[e];return c._data[0]=d,c}if(f.isInt(b)){b=f.checkAxis(b,a.shape.length);for(var g=f.computeAxisReductionOutShape(a.shape,b),h=this.empty(g,a.dataType),i=f.computeOuterStride(a.shape,b),j=f.computeInnerStride(a.shape,b),k=a.shape[b],e=0;i>e;++e)for(var l=0;j>l;++l){for(var m=e*k*j+l,n=a._data[m],o=1;k>o;++o)m+=j,n+=a._data[m];h._data[e*j+l]=n}return h}throw new TypeError("Unsupported axis type")},c.prototype.neg=function(a,b){f.checkNDArray(a,"a"),a._decRef();try{"undefined"==typeof b?(b=new d(a.shape,a.dataType,this),b._data=a instanceof d&&!a._hasRefs()?a._data:new a.dataType.arrayType(b.length)):(f.checkNDArray(b,"out"),f.checkShapesCompatibility(a.shape,b.shape),f.checkDataTypesCompatibility(a.dataType,b.dataType),b._incRef());for(var c=a._data,e=b._data,g=a.length,h=0;g>h;++h)e[h]=-c[h]}catch(i){throw a._incRef(),i}return a._tryInvalidate(),b},c.prototype.abs=function(a,b){f.checkNDArray(a,"a"),a._decRef();try{"undefined"==typeof b?(b=new d(a.shape,a.dataType,this),b._data=a instanceof d&&!a._hasRefs()?a._data:new a.dataType.arrayType(b.length)):(f.checkNDArray(b,"out"),f.checkShapesCompatibility(a.shape,b.shape),f.checkDataTypesCompatibility(a.dataType,b.dataType),b._incRef());for(var c=a._data,e=b._data,g=a.length,h=0;g>h;++h)e[h]=Math.abs(c[h])}catch(i){throw a._incRef(),i}return a._tryInvalidate(),b},c.prototype.exp=function(a,b){f.checkNDArray(a,"a"),a._decRef();try{"undefined"==typeof b?(b=new d(a.shape,a.dataType,this),b._data=a instanceof d&&!a._hasRefs()?a._data:new a.dataType.arrayType(b.length)):(f.checkNDArray(b,"out"),f.checkShapesCompatibility(a.shape,b.shape),f.checkDataTypesCompatibility(a.dataType,b.dataType),b._incRef());for(var c=a._data,e=b._data,g=a.length,h=0;g>h;++h)e[h]=Math.exp(c[h])}catch(i){throw a._incRef(),i}return a._tryInvalidate(),b},c.prototype.log=function(a,b){f.checkNDArray(a,"a"),a._decRef();try{"undefined"==typeof b?(b=new d(a.shape,a.dataType,this),b._data=a instanceof d&&!a._hasRefs()?a._data:new a.dataType.arrayType(b.length)):(f.checkNDArray(b,"out"),f.checkShapesCompatibility(a.shape,b.shape),f.checkDataTypesCompatibility(a.dataType,b.dataType),b._incRef());for(var c=a._data,e=b._data,g=a.length,h=0;g>h;++h)e[h]=Math.log(c[h])}catch(i){throw a._incRef(),i}return a._tryInvalidate(),b},c.prototype.sqrt=function(a,b){f.checkNDArray(a,"a"),a._decRef();try{"undefined"==typeof b?(b=new d(a.shape,a.dataType,this),b._data=a instanceof d&&!a._hasRefs()?a._data:new a.dataType.arrayType(b.length)):(f.checkNDArray(b,"out"),f.checkShapesCompatibility(a.shape,b.shape),f.checkDataTypesCompatibility(a.dataType,b.dataType),b._incRef());for(var c=a._data,e=b._data,g=a.length,h=0;g>h;++h)e[h]=Math.sqrt(c[h])}catch(i){throw a._incRef(),i}return a._tryInvalidate(),b},c.prototype.square=function(a,b){f.checkNDArray(a,"a"),a._decRef();try{"undefined"==typeof b?(b=new d(a.shape,a.dataType,this),b._data=a instanceof d&&!a._hasRefs()?a._data:new a.dataType.arrayType(b.length)):(f.checkNDArray(b,"out"),f.checkShapesCompatibility(a.shape,b.shape),f.checkDataTypesCompatibility(a.dataType,b.dataType),b._incRef());for(var c=a._data,e=b._data,g=a.length,h=0;g>h;++h){var i=c[h];e[h]=i*i}}catch(j){throw a._incRef(),j}return a._tryInvalidate(),b},c.prototype.dot=function(a,b,c){f.checkNDArray(a,"a"),f.checkNDArray(b,"b"),f.checkDataTypesCompatibility(a.dataType,b.dataType);var e=Math.max(a.shape.length-1,0),g=Math.max(b.shape.length-2,0),h=a.shape[e];if(h!==b.shape[g])throw new RangeError("Arrays have incompatible reduction dimensions");for(var i=[],j=1,k=1,l=1,m=0;e>m;m++)i.push(a.shape[m]),j*=a.shape[m];for(var m=0;m<b.shape.length;m++){var n=b.shape[m];g>m?(k*=n,i.push(n)):m>g&&(l*=n,i.push(n))}"undefined"==typeof c?c=this.empty(i,a.dataType):c instanceof d&&(f.checkNDArray(c,"out"),f.checkShapesCompatibility(c.shape,i),f.checkDataTypesCompatibility(c.dataType,a.dataType));for(var o=a._data,p=b._data,q=c._data,m=0;j>m;m++)for(var r=0;h>r;r++)for(var s=0;k>s;s++)for(var t=0;l>t;t++)q[(m*k+s)*l+t]+=o[m*h+r]*p[(s*h+r)*l+t];return c},c.prototype.linspace=function(a,b,c,d){if(!f.isReal(a))throw new TypeError(a+" is not a real number");if(!f.isReal(b))throw new TypeError(b+" is not a real number");if("undefined"==typeof c)c=50;else{if(!f.isInt(c))throw new TypeError(c+" is not an integer");if(0>=c)throw new RangeError("The number of samples must be positive")}if("undefined"==typeof d&&(d=!0),d&&1===c)throw new RangeError("The number of samples must be a least 2 (for start and end points)");for(var g=this.empty(c,new e("f64")),h=g._data,i=b-a,j=d?c-1:c,k=i/j,l=0;c>l;l++)h[l]=a+k*l;return g},b.exports=c},{"./DataType":1,"./NDArray":3,"./util":9}],3:[function(a,b){"use strict";function c(a){for(var b=1,c=0;c<a.length;c++)b*=a[c];return b}function d(a,b,d){if("undefined"==typeof d)throw new Error("Context not defined");if(!e.isPositiveIntArray(a)&&!e.isPositiveInt(a))throw new TypeError(a+" is not a valid array shape");if("undefined"==typeof b)b=new f("f64");else if(!(b instanceof f))throw new TypeError(b+" is not an instance of DataType");this.shape=e.asIntArray(a),this.dataType=b,this._context=d,this.length=c(this.shape),this._lockCount=0,this._refCount=1,this._isValid=!0}var e=a("./util"),f=a("./DataType");d.prototype.lock=function(){if(!this.isValid())throw new Error("Attempted to lock an invalidated array");return this._lockCount++,this},d.prototype.unlock=function(){if(!this.isLocked())throw new Error("Attempted to lock a unlocked array");return this._lockCount--,this},d.prototype.isLocked=function(){return this._lockCount>0},d.prototype.retain=function(){if(!this.isValid())throw new Error("Attempted to release an invalidated array");if(this.isLocked())throw new Error("Attempted to retain a locked array");return this._refCount++,this},d.prototype.release=function(){if(!this.isValid())throw new Error("Attempted to release an invalidated array");if(this.isLocked())throw new Error("Attempted to release a locked array");return 0===--this._refCount&&this._context.invalidate(this),this},d.prototype.invalidate=function(){return this.isValid()&&(this._context._invalidate(this),this._isValid=!1,this._refCount=0,this._lockCount=0),this},d.prototype.isValid=function(){return this._isValid},d.prototype._decRef=function(){0===this._lockCount&&--this._refCount},d.prototype._incRef=function(){return 0===this._lockCount&&++this._refCount,this},d.prototype._hasRefs=function(){return 0!==this._lockCount||0!==this._refCount},d.prototype._tryInvalidate=function(){return this.isValid()&&!this._hasRefs()?(this._context._invalidate(this),this._isValid=!1,!0):!1},d.prototype.add=function(a){return this._context.add(this,a)},d.prototype.sub=function(a){return this._context.sub(this,a)},d.prototype.mul=function(a){return this._context.mul(this,a)},d.prototype.div=function(a){return this._context.div(this,a)},d.prototype.min=function(a){return this._context.min(this,a)},d.prototype.max=function(a){return this._context.max(this,a)},d.prototype.sum=function(a){return this._context.sum(this,a)},d.prototype.reshape=function(a){return this._context.reshape(this,a)},d.prototype.repeat=function(a,b){return this._context.repeat(this,a,b)},d.prototype.get=function(a){this._context.get(this,a)},b.exports=d},{"./DataType":1,"./util":9}],4:[function(a,b){"use strict";function c(a){var b=this;this._pnaclObject=document.createElement("object"),this._pnaclObject.width=0,this._pnaclObject.height=0,this._pnaclObject.data=h+"furious.nmf",this._pnaclObject.type="application/x-pnacl",this._pnaclObject.addEventListener("load",function(){var c=f.newMessageId();p[c]=function(){a(b)},b._pnaclObject.postMessage({id:c,command:"init"})},!0),this._pnaclObject.addEventListener("message",q,!0),document.body.appendChild(this._pnaclObject)}var d=a("./NDArray"),e=a("./DataType"),f=a("./allocator"),g=a("./util"),h="";try{for(var i=document.getElementsByTagName("script"),j=i.length-1;j>=0;--j){var k=i[j].src;k=k.split("?")[0];var l=k.lastIndexOf("/"),m=k.substring(l+1);if("furious.js"===m||"furious.min.js"===m){h=k.substring(0,l+1);break}}}catch(n){}var o=function(a){for(var b=1,c=0;c<a.length;c++)b*=a[c];return b},p={},q=function(a){var b=a.data,c=b.id;"error"==b.status&&console.log("Error: "+b.description),c in p&&("buffer"in b?p[c](b.buffer):p[c](),delete p[c])};c.prototype.empty=function(a,b){if(a=g.checkShape(a),"undefined"==typeof b)b=new e("f64");else if(!(b instanceof e))throw new TypeError(b+" is not an instance of DataType");var c=new d(a,b,this);return c._id=f.newArrayId(),this._pnaclObject.postMessage({id:f.newMessageId(),command:"empty",shape:new Uint32Array(a).buffer,datatype:b.type,out:c._id}),c},c.prototype.array=function(a,b){var c=[];if(g.discoverArrayShapeRecursive(a,c,0),"undefined"==typeof b)b=new e("f64");else if(!(b instanceof e))throw new TypeError(b+" is not an instance of DataType");var h=new d(c,b,this);h._id=f.newArrayId();var i=new b.arrayType(h.length);return g.copyArrayDataRecursive(i,a,c,0,0),this._pnaclObject.postMessage({id:f.newMessageId(),command:"array",shape:new Uint32Array(c).buffer,datatype:b.type,buffer:i.buffer,out:h._id}),h},c.prototype.linspace=function(a,b,c,h){if(!g.isReal(a))throw new TypeError(a+" is not a real number");if(!g.isReal(b))throw new TypeError(b+" is not a real number");if("undefined"==typeof c)c=50;else{if(!g.isInt(c))throw new TypeError(c+" is not an integer");if(0>=c)throw new RangeError("The number of samples must be positive")}if("undefined"==typeof h&&(h=!0),h&&1===c)throw new RangeError("The number of samples must be a least 2 (for start and end points)");var i=new e("f64"),j=new d([c],i,this);return j._id=f.newArrayId(),this._pnaclObject.postMessage({id:f.newMessageId(),command:"linspace",start:+a,stop:+b,samples:0|c,closed:!!h,datatype:i.type,out:j._id}),j},c.prototype.reshape=function(a,b){if(!g.isPositiveIntArray(b)&&!g.isPositiveInt(b))throw new TypeError(b+" is not a valid array shape");if(o(b)!==a.length)throw new RangeError(b+" is not compatible with the array");var c=new d(b,a.dataType,this);return c._id=f.newArrayId(),this._pnaclObject.postMessage({id:f.newMessageId(),command:"reshape",a:a._id,out:c._id,shape:new Uint32Array(b).buffer}),c},c.prototype.repeat=function(a,b,c,e){g.checkNDArray(a,"a"),b=g.checkRepeats(b),c=g.checkAxis(c,a.shape.length);var h=a.shape,i=h.slice(0);return i[c]*=b,"undefined"==typeof e?(e=new d(i,a.dataType,this),e._id=f.newArrayId()):(g.checkNDArray(e,"out"),g.checkShapesCompatibility(e.shape,i),g.checkDataTypesCompatibility(a.dataType,e.dataType)),this._pnaclObject.postMessage({id:f.newMessageId(),command:"repeat",a:a._id,out:e._id,repeats:b,axis:c}),e},c.prototype._invalidate=function(a){0!==a._id&&this._pnaclObject.postMessage({id:f.newMessageId(),command:"release","in":a._id})},c.prototype.get=function(){if(0===arguments.length)throw new Error("Callback argument missing");var a=arguments[arguments.length-1];if(1===arguments.length)throw new Error("At least one NDArray argument expected");for(var b=0;b<arguments.length-1;b++)if(!(arguments[b]instanceof d))throw new TypeError("Argument "+b+" is not an NDArray");for(var c=arguments.length-1,e=new Array(c),b=0;c>b;b++){var h=arguments[b],i=f.newMessageId();p[i]=0===h.shape.length?function(b){return function(d){var f=new h.dataType.arrayType(d);e[b]=f[0],0===--c&&a.apply(null,e)}}(b):function(b){return function(d){var f=new Array(h.shape[0]);g.createArrayRecursive(new h.dataType.arrayType(d),f,h.shape,0,0),e[b]=f,0===--c&&a.apply(null,e)}}(b),this._pnaclObject.postMessage({id:i,command:"get","in":h._id})}};var r=function(a,b,c,e,h){var i=null,j=null,k=0,l=0;if(a instanceof d){if(k=a._id,i=a.shape,j=a.dataType,b instanceof d)l=b._id,g.checkShapesCompatibility(a.shape,b.shape),g.checkDataTypesCompatibility(a.dataType,b.dataType);else if(!g.isNumber(b))throw new TypeError("Unsupported type of b")}else{if(!g.isNumber(a))throw new TypeError("Unsupported type of a");l=b._id,i=b.shape,j=b.dataType,g.checkNDArray(b,"b")}a instanceof d&&a._decRef(),b instanceof d&&b._decRef();try{"undefined"==typeof c?(c=new d(i,j,e),a instanceof d&&!a._hasRefs()?(c._id=a._id,a._id=0):b instanceof d&&!b._hasRefs()?(c._id=b._id,b._id=0):c._id=f.newArrayId()):(g.checkNDArray(c,"out"),g.checkShapesCompatibility(i,c.shape),g.checkDataTypesCompatibility(j,c.dataType),c._incRef()),e._pnaclObject.postMessage(a instanceof d?b instanceof d?{id:f.newMessageId(),command:h,a:k,b:l,out:c._id}:{id:f.newMessageId(),command:h+"c",a:k,b:b,out:c._id}:"add"==h||"mul"==h?{id:f.newMessageId(),command:h+"c",a:l,b:a,out:c._id}:{id:f.newMessageId(),command:"r"+h+"c",a:k,b:b,out:c._id})}catch(m){throw a instanceof d&&a._incRef(),b instanceof d&&b._incRef(),m}return a instanceof d&&a._tryInvalidate(),b instanceof d&&b._tryInvalidate(),c},s=function(a,b,c,e){g.checkNDArray(a,"a");var h=a._id;a._decRef();try{"undefined"==typeof b?(b=new d(a.shape,a.dataType,c),a instanceof d&&!a._hasRefs()?(b._id=a._id,a._id=0):b._id=f.newArrayId()):(g.checkNDArray(b,"out"),g.checkShapesCompatibility(a.shape,b.shape),g.checkDataTypesCompatibility(a.dataType,b.dataType),b._incRef())}catch(i){throw a._incRef(),i}return c._pnaclObject.postMessage({id:f.newMessageId(),command:e,a:h,out:b._id}),a._tryInvalidate(),b},t=function(a,b,c,e){var h=null;if(!(a instanceof d))throw new TypeError("Unsupported type of a");if(h=a.dataType,"undefined"==typeof b)b=new d([],h,c),b._id=f.newArrayId();else{if(!(b instanceof d))throw new TypeError("out is not an NDArray");g.checkShapesCompatibility(b.shape,[])}return c._pnaclObject.postMessage({id:f.newMessageId(),command:e,a:a._id,out:b._id}),b},u=function(a,b,c,e,h){var i=null;if(!(a instanceof d))throw new TypeError("Unsupported type of a");if(i=a.dataType,g.checkAxis(b),"undefined"==typeof c)c=new d(g.computeAxisReductionOutShape(a.shape,b),i,e),c._id=f.newArrayId();else{if(!(c instanceof d))throw new TypeError("out is not an NDArray");g.checkAxisReductionOutShape(a.shape,c.shape,b)}return e._pnaclObject.postMessage({id:f.newMessageId(),command:h,a:a._id,axis:0|b,out:c._id}),c},v=function(a,b,c,e){var h=null;if(!(a instanceof d))throw new TypeError("Unsupported type of a");if(h=a.dataType,!(b instanceof d))throw new TypeError("Unsupported type of b");if(g.checkDataTypesCompatibility(h,b.dataType),"undefined"!=typeof c)throw c instanceof d?new Error("Not implemented"):new TypeError("out is not an NDArray");var i=a.shape,j=b.shape,k=Math.max(i.length-1,0),l=Math.max(j.length-2,0);if(i[k]!=j[l])throw new TypeError("Mismatch in reduction dimensions");for(var m=[],n=0;k>n;n++)m.push(i[n]);if(j.length>1){for(var n=0;l>n;n++)m.push(j[n]);m.push(j[j.length-1])}return c=new d(m,h,e),c._id=f.newArrayId(),e._pnaclObject.postMessage({id:f.newMessageId(),command:"dot",a:a._id,b:b._id,out:c._id}),c};c.prototype.add=function(a,b,c){return r(a,b,c,this,"add")},c.prototype.sub=function(a,b,c){return r(a,b,c,this,"sub")},c.prototype.mul=function(a,b,c){return r(a,b,c,this,"mul")},c.prototype.div=function(a,b,c){return r(a,b,c,this,"div")},c.prototype.neg=function(a,b){return s(a,b,this,"neg")},c.prototype.abs=function(a,b){return s(a,b,this,"abs")},c.prototype.exp=function(a,b){return s(a,b,this,"exp")},c.prototype.log=function(a,b){return s(a,b,this,"log")},c.prototype.sqrt=function(a,b){return s(a,b,this,"sqrt")},c.prototype.square=function(a,b){return s(a,b,this,"square")},c.prototype.min=function(a,b){if("undefined"==typeof b)return t(a,void 0,this,"min");if(g.isInt(b))return u(a,b,void 0,this,"amin");throw new TypeError("Unsupported axis type")},c.prototype.max=function(a,b){if("undefined"==typeof b)return t(a,void 0,this,"max");if(g.isInt(b))return u(a,b,void 0,this,"amax");throw new TypeError("Unsupported axis type")},c.prototype.sum=function(a,b){if("undefined"==typeof b)return t(a,void 0,this,"sum");if(g.isInt(b))return u(a,b,void 0,this,"asum");throw new TypeError("Unsupported axis type")},c.prototype.dot=function(a,b,c){return v(a,b,c,this)},b.exports=c},{"./DataType":1,"./NDArray":3,"./allocator":7,"./util":9}],5:[function(a,b){"use strict";function c(a){null===l&&(l="undefined"==typeof webcl?new WebCL:webcl,i=l.createContext(),j=i.createCommandQueue(),k=i.createProgram(g),k.build(),m.add.f32=k.createKernel("addF32"),m.add.f64=k.createKernel("addF64"),m.sub.f32=k.createKernel("subF32"),m.sub.f64=k.createKernel("subF64"),m.mul.f32=k.createKernel("mulF32"),m.mul.f64=k.createKernel("mulF64"),m.div.f32=k.createKernel("divF32"),m.div.f64=k.createKernel("divF64"),n.add.f32=k.createKernel("addConstF32"),n.add.f64=k.createKernel("addConstF64"),n.sub.f32=k.createKernel("subConstF32"),n.sub.f64=k.createKernel("subConstF64"),n.mul.f32=k.createKernel("mulConstF32"),n.mul.f64=k.createKernel("mulConstF64"),n.div.f32=k.createKernel("divConstF32"),n.div.f64=k.createKernel("divConstF64"),o.neg.f32=k.createKernel("negF32"),o.neg.f64=k.createKernel("negF64"),o.abs.f32=k.createKernel("absF32"),o.abs.f64=k.createKernel("absF64"),o.exp.f32=k.createKernel("expF32"),o.exp.f64=k.createKernel("expF64"),o.log.f32=k.createKernel("logF32"),o.log.f64=k.createKernel("logF64"),o.sqrt.f32=k.createKernel("sqrtF32"),o.sqrt.f64=k.createKernel("sqrtF64"),o.square.f32=k.createKernel("squareF32"),o.square.f64=k.createKernel("squareF64")),a(this)}var d=a("./NDArray"),e=a("./DataType"),f=a("./util"),g=a("./WebCLKernels.js"),h=function(a,b){if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0},i=null,j=null,k=null,l=null,m={add:{},sub:{},mul:{},div:{}},n={add:{},sub:{},mul:{},div:{}},o={neg:{},abs:{},exp:{},log:{},sqrt:{},square:{}};c.prototype.empty=function(a,b){if(!f.isPositiveIntArray(a)&&!f.isPositiveInt(a))throw new TypeError(a+" is not a valid array shape");if("undefined"==typeof b)b=new e("f64");else if(!(b instanceof e))throw new TypeError(b+" is not an instance of DataType");var c=new d(a,b,this);return c._buffer=i.createBuffer(l.MEM_READ_WRITE,c.length*b.size),c},c.prototype.array=function(a,b){var c=[];if(f.discoverArrayShapeRecursive(a,c,0),"undefined"==typeof b)b=new e("f64");else if(!(b instanceof e))throw new TypeError(b+" is not an instance of DataType");var g=new d(c,b,this),h=new b.arrayType(g.length);return f.copyArrayDataRecursive(h,a,c,0,0),g._buffer=i.createBuffer(l.MEM_READ_WRITE,g.length*b.size),j.enqueueWriteBuffer(g._buffer,!1,0,g.length*b.size,h),g},c.prototype._invalidate=function(a){f.checkNDArray(a,"array"),a._buffer.release()},c.prototype.get=function(a,b){if(!(a instanceof d))throw new TypeError(a+" is not an NDArray");var c=(new WebCLEvent,new a.dataType.arrayType(a.length));j.enqueueReadBuffer(a._buffer,!0,0,a.length*a.dataType.size,c);var e=new Array(a.shape[0]);f.createArrayRecursive(new a.dataType.arrayType(c),e,a.shape,0,0),b(e)};var p=function(a,b,c,e,g){var i=null,k=null;if(!(a instanceof d))throw new TypeError("Unsupported type of a");if(i=a.shape,k=a.dataType,b instanceof d){if(!h(i,b.shape))throw new Error("The a and b arrays have incompatible shapes")}else if(!f.isNumber(b))throw new TypeError("Unsupported type of b");if("undefined"==typeof c)c=e.empty(i,k);else{if(!(c instanceof d))throw new TypeError("out is not an NDArray");if(!h(i,c.shape))throw new Error("The out array has incompatible shape")}if(a instanceof d)if(b instanceof d){var l=m[g][k.type];l.setArg(0,new Uint32Array([c.length])),l.setArg(1,a._buffer),l.setArg(2,b._buffer),l.setArg(3,c._buffer),j.enqueueNDRangeKernel(l,1,null,[c.length])}else{var l=n[g][k.type];l.setArg(0,new Uint32Array([c.length])),l.setArg(1,a._buffer),l.setArg(2,new a.dataType.arrayType([b])),l.setArg(3,c._buffer),j.enqueueNDRangeKernel(l,1,null,[c.length])}return c},q=function(a,b,c,e){var f=null,g=null;if(!(a instanceof d))throw new TypeError("Unsupported type of a");if(f=a.shape,g=a.dataType,"undefined"==typeof b)b=c.empty(f,g);else{if(!(b instanceof d))throw new TypeError("out is not an NDArray");if(!h(f,b.shape))throw new Error("The out array has incompatible shape")}var i=o[e][g.type];return i.setArg(0,new Uint32Array([b.length])),i.setArg(1,a._buffer),i.setArg(2,b._buffer),j.enqueueNDRangeKernel(i,1,null,[b.length]),b};c.prototype.add=function(a,b,c){return p(a,b,c,this,"add")},c.prototype.sub=function(a,b,c){return p(a,b,c,this,"sub")},c.prototype.mul=function(a,b,c){return p(a,b,c,this,"mul")},c.prototype.div=function(a,b,c){return p(a,b,c,this,"div")},c.prototype.neg=function(a,b){return q(a,b,this,"neg")},c.prototype.abs=function(a,b){return q(a,b,this,"abs")},c.prototype.exp=function(a,b){return q(a,b,this,"exp")},c.prototype.log=function(a,b){return q(a,b,this,"log")},c.prototype.sqrt=function(a,b){return q(a,b,this,"sqrt")},c.prototype.square=function(a,b){return q(a,b,this,"square")},b.exports=c},{"./DataType":1,"./NDArray":3,"./WebCLKernels.js":6,"./util":9}],6:[function(a,b){"use strict";b.exports=["kernel void addF32(","	uint length,","	global float* a,","	global float* b,","	global float* out)","{","	const uint id = get_global_id(0);","	if (id < length) {","		out[id] = a[id] + b[id];","	}","}","kernel void addF64(","	uint length,","	global double* a,","	global double* b,","	global double* out)","{","	const uint id = get_global_id(0);","	if (id < length) {","		out[id] = a[id] + b[id];","	}","}","kernel void subF32(","	uint length,","	global float* a,","	global float* b,","	global float* out)","{","	const uint id = get_global_id(0);","	if (id < length) {","		out[id] = a[id] - b[id];","	}","}","kernel void subF64(","	uint length,","	global double* a,","	global double* b,","	global double* out)","{","	const uint id = get_global_id(0);","	if (id < length) {","		out[id] = a[id] - b[id];","	}","}","kernel void mulF32(","	uint length,","	global float* a,","	global float* b,","	global float* out)","{","	const uint id = get_global_id(0);","	if (id < length) {","		out[id] = a[id] * b[id];","	}","}","kernel void mulF64(","	uint length,","	global double* a,","	global double* b,","	global double* out)","{","	const uint id = get_global_id(0);","	if (id < length) {","		out[id] = a[id] * b[id];","	}","}","kernel void divF32(","	uint length,","	global float* a,","	global float* b,","	global float* out)","{","	const uint id = get_global_id(0);","	if (id < length) {","		out[id] = a[id] / b[id];","	}","}","kernel void divF64(","	uint length,","	global double* a,","	global double* b,","	global double* out)","{","	const uint id = get_global_id(0);","	if (id < length) {","		out[id] = a[id] / b[id];","	}","}","kernel void addConstF32(","	uint length,","	global float* a,","	float b,","	global float* out)","{","	const uint id = get_global_id(0);","	if (id < length) {","		out[id] = a[id] + b;","	}","}","kernel void addConstF64(","	uint length,","	global double* a,","	double b,","	global double* out)","{","	const uint id = get_global_id(0);","	if (id < length) {","		out[id] = a[id] + b;","	}","}","kernel void subConstF32(","	uint length,","	global float* a,","	float b,","	global float* out)","{","	const uint id = get_global_id(0);","	if (id < length) {","		out[id] = a[id] - b;","	}","}","kernel void subConstF64(","	uint length,","	global double* a,","	double b,","	global double* out)","{","	const uint id = get_global_id(0);","	if (id < length) {","		out[id] = a[id] - b;","	}","}","kernel void mulConstF32(","	uint length,","	global float* a,","	float b,","	global float* out)","{","	const uint id = get_global_id(0);","	if (id < length) {","		out[id] = a[id] * b;","	}","}","kernel void mulConstF64(","	uint length,","	global double* a,","	double b,","	global double* out)","{","	const uint id = get_global_id(0);","	if (id < length) {","		out[id] = a[id] * b;","	}","}","kernel void divConstF32(","	uint length,","	global float* a,","	float b,","	global float* out)","{","	const uint id = get_global_id(0);","	if (id < length) {","		out[id] = a[id] / b;","	}","}","kernel void divConstF64(","	uint length,","	global double* a,","	double b,","	global double* out)","{","	const uint id = get_global_id(0);","	if (id < length) {","		out[id] = a[id] / b;","	}","}","kernel void negF32(","	uint length,","	global float* a,","	global float* out)","{","	const uint id = get_global_id(0);","	if (id < length) {","		out[id] = -a[id];","	}","}","kernel void negF64(","	uint length,","	global double* a,","	global double* out)","{","	const uint id = get_global_id(0);","	if (id < length) {","		out[id] = -a[id];","	}","}","kernel void absF32(","	uint length,","	global float* a,","	global float* out)","{","	const uint id = get_global_id(0);","	if (id < length) {","		out[id] = fabs(a[id]);","	}","}","kernel void absF64(","	uint length,","	global double* a,","	global double* out)","{","	const uint id = get_global_id(0);","	if (id < length) {","		out[id] = fabs(a[id]);","	}","}","kernel void expF32(","	uint length,","	global float* a,","	global float* out)","{","	const uint id = get_global_id(0);","	if (id < length) {","		out[id] = exp(a[id]);","	}","}","kernel void expF64(","	uint length,","	global double* a,","	global double* out)","{","	const uint id = get_global_id(0);","	if (id < length) {","		out[id] = exp(a[id]);","	}","}","kernel void logF32(","	uint length,","	global float* a,","	global float* out)","{","	const uint id = get_global_id(0);","	if (id < length) {","		out[id] = log(a[id]);","	}","}","kernel void logF64(","	uint length,","	global double* a,","	global double* out)","{","	const uint id = get_global_id(0);","	if (id < length) {","		out[id] = log(a[id]);","	}","}","kernel void sqrtF32(","	uint length,","	global float* a,","	global float* out)","{","	const uint id = get_global_id(0);","	if (id < length) {","		out[id] = sqrt(a[id]);","	}","}","kernel void sqrtF64(","	uint length,","	global double* a,","	global double* out)","{","	const uint id = get_global_id(0);","	if (id < length) {","		out[id] = sqrt(a[id]);","	}","}","kernel void squareF32(","	uint length,","	global float* a,","	global float* out)","{","	const uint id = get_global_id(0);","	if (id < length) {","		const float aVal = a[id]; ","		out[id] = aVal * aVal;","	}","}","kernel void squareF64(","	uint length,","	global double* a,","	global double* out)","{","	const uint id = get_global_id(0);","	if (id < length) {","		const double aVal = a[id];","		out[id] = aVal * aVal;","	}","}"].join("\n")
},{}],7:[function(a,b,c){"use strict";var d=1,e=1;c.newMessageId=function(){var a=d;return d=d+1|0,a},c.newArrayId=function(){var a=e;return e=e+1|0,a}},{}],8:[function(a,b,c){"use strict";var d=a("./DataType"),e=a("./JSContext"),f=a("./PNaClContext"),g=a("./WebCLContext"),h=function(a,b){if("undefined"==typeof b&&(b=a,a=void 0),"undefined"==typeof a&&(a=i()),"javascript"==a)return new e(b);if("pnacl"==a)return new f(b);if("webcl"==a)return new g(b);throw new Error("Unsupported backend: "+a)},i=function(){return k("webcl")?"webcl":k("pnacl")?"pnacl":"javascript"},j=function(){var a=[];return k("webcl")&&a.push("webcl"),k("pnacl")&&a.push("pnacl"),k("asm.js")&&a.push("asm.js"),a.push("javascript"),a},k=function(a){switch(a){case"asm.js":try{var b=window.navigator.userAgent,c=b.split(/\s+/),d=/[Ff]irefox\/(\d+)/g;for(var e in c){var f=d.exec(e);if(null!==f){var g=parseInt(f[0]);return g>=29}}return!1}catch(h){}return!1;case"simd.js":return"undefined"!=typeof SIMD;case"webgl":try{var i=document.createElement("canvas");try{if(null!==i.getContext("webgl"))return!0}catch(h){}try{if(null!==i.getContext("experimental-webgl"))return!0}catch(h){}}catch(h){}return!1;case"webcl":if("undefined"!=typeof k)try{var j=k.getPlatforms();return j.length>=1}catch(h){return!1}else if("undefined"!=typeof WebCL)try{var k=new WebCL,j=k.getPlatforms();return j.length>=1}catch(h){return!1}return!1;case"pnacl":try{return"undefined"!=typeof navigator.mimeTypes["application/x-pnacl"]}catch(h){}return!1;case"nacl":try{return"undefined"!=typeof navigator.mimeTypes["application/x-nacl"]}catch(h){}return!1;default:throw new Error("Unknown feature: "+a)}};c.init=h,c.hasFeature=k,c.getDefaultBackend=i,c.getSupportedBackends=j,c.DataType=d},{"./DataType":1,"./JSContext":2,"./PNaClContext":4,"./WebCLContext":5}],9:[function(a,b,c){"use strict";var d=function(a){return a===+a};c.isNumber=d;var e=function(a){return a===+a&&isFinite(a)};c.isReal=e;var f=function(a){return a===(0|a)};c.isInt=f,c.isPositiveInt=function(a){return a===+a&&a===(0|a)&&a>0},c.isNonNegativeInt=function(a){return a===+a&&a===(0|a)&&a>=0};var g=function(a){return a instanceof Array};c.isArray=g,c.isIntArray=function(a){if(c.isArray(a)){for(var b=0;b<a.length;b++)if(!c.isInt(a[b]))return!1;return!0}return!1},c.isPositiveIntArray=function(a){if(c.isArray(a)){for(var b=0;b<a.length;b++)if(!c.isPositiveInt(a[b]))return!1;return!0}return!1},c.asIntArray=function(a){if(c.isInt(a))return[a];if(c.isIntArray(a))return a;throw new TypeError(a+" can not be converted to integer array")};var h=function(a){if(d(a))return h([a]);if(g(a)){for(var b=a.length,c=new Array(b),e=0;b>e;e++){if(!d(a[e]))throw new Error("Shape has non-numeric dimensions");if(!f(a[e]))throw new Error("Shape must have integer dimensions");if(a[e]<1)throw new Error("Degenerate shape");c[e]=0|a[e]}return c}};c.checkShape=h,c.checkShapesCompatibility=function(a,b){if(a.length!=b.length)throw new Error("The shapes have different dimensions");for(var c=a.length,d=0;c>d;d++)if(a[d]!=b[d])throw new Error("The shapes are different")},c.computeLength=function(a){for(var b=1,c=0;c<a.length;++c)b*=a[c];return b},c.checkDataType=function(b){var c=a("./DataType");if(!(b instanceof c))throw new TypeError("dataType is not an instance of DataType");return b},c.checkDataTypesCompatibility=function(a,b){if(!a.equals(b))throw new Error("The data types are not compatible")},c.checkNDArray=function(b,c){var d=a("./NDArray");if(!(b instanceof d))throw new TypeError(c+" is not an NDArray");if(!b.isValid())throw new Error(c+" is an invalidated array")},c.checkRepeats=function(a){if(!f(a))throw new TypeError("Repeats is not an integer");if(1>=a)throw new RangeError("Repeats should be greater than 1");return 0|a},c.checkAxis=function(a,b){if(!f(a))throw new TypeError("Axis is not an integer");if(0>a)throw new RangeError("Axis is negative");if(a>=b)throw new RangeError("Axis out of range");return 0|a},c.checkAxisReductionOutShape=function(a,b,c){if(a.length!==b.length+1)throw new Error("Output array has invalid number of dimensions for this operation");for(var d=0;c>d;++d)if(a[d]!==b[d])throw new Error("Output array has invalid shape for this operation");for(var d=c+1;d<a.length;++d)if(a[d]!==b[d-1])throw new Error("Output array has invalid shape for this operation")},c.computeAxisReductionOutShape=function(a,b){for(var c=[],d=0;d<a.length;++d)d!==b&&c.push(a[d]);return c},c.computeOuterStride=function(a,b){for(var c=1,d=0;b>d;++d)c*=a[d];return c},c.computeInnerStride=function(a,b){for(var c=1,d=b+1;d<a.length;++d)c*=a[d];return c};var i=function(a,b,c){if(g(a)){if(b.length<=c)b.push(a.length);else if(b[c]!=a.length)throw new RangeError("Sub-array "+a+" does not match the expected dimension of "+b[c]);for(var e=0;e<a.length;e++)i(a[e],b,c+1)}else{if(c!=b.length)throw new RangeError("Sub-array ["+a+"] does not match the expected dimension of "+b[c]);if(!d(a))throw new TypeError("Non-numeric element: "+a)}};c.discoverArrayShapeRecursive=i;var j=function(a,b,c,d,e){var f=c[d];if(d===c.length-1)a.set(b,e*f);else for(var g=0;f>g;g++)j(a,b[g],c,d+1,e*f+g)};c.copyArrayDataRecursive=j;var k=function(a,b,c,d,e){var f=c[d];if(d===c.length-1)for(var g=0;f>g;g++)b[g]=a[e*f+g];else for(var g=0;f>g;g++)b[g]=new Array(c[d+1]),k(a,b[g],c,d+1,e*f+g)};c.createArrayRecursive=k},{"./DataType":1,"./NDArray":3}]},{},[8])(8)});